<!DOCTYPE html>
<html>


<body>
    <h1>Flash a LOLIN C3 Mini for use in a Rina-Chan Board!</h1>
    
    <p>Step 1: Click the CONNECT button below.</p>
    <p>Step 2: Plug in your LOLIN C3 Mini. A new port will appear on the list. Note that port.</p>
    <p>Step 3: 
                a) On your C3 Mini, hold the "9" button.
                b) Press the "RST" button. You should hear the USB disconnect sound.
                c) Keep holding the "9" button until you hear the USB reconnect sound.
                d) Let go of the "9" button.</p>
    <p>Step 4: Select your C3 Mini's port and follow the installation process.</p>
    <p>Step 5: Once you see "Installation complete!", reset your C3 Mini. It will now be visible as the Bluetooth Low-Energy device "Rina-Chan Board" and the LED matrix will randomly display expressions.</p>

    <div id="main" style="display: none;">

        <br>
        <script
            type="module"
            src="https://unpkg.com/esp-web-tools@7.3.1/dist/web/install-button.js?module">
        </script>
        <esp-web-install-button id="installButton" manifest="webflash/manifest.json"></esp-web-install-button>
        <br>
        <span>NOTE: Make sure to close anything using your devices com port (e.g. Serial monitor)</span>
    </div>
    <div id="notSupported" style="display: none;">
        Your browser does not support the Web Serial API. Try Chrome
    </div>
    

    <script>
        if(navigator.serial){
            document.getElementById("notSupported").style.display = 'none';
            document.getElementById("main").style.display = 'block';
        } else {
            document.getElementById("notSupported").style.display = 'block';
            document.getElementById("main").style.display = 'none';
        }
    </script>

</body>

</html>
